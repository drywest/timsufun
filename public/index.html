<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>YouTube LIVE Chat Overlay â€“ Link</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@800&display=swap" rel="stylesheet">
  <style>
    :root { color-scheme: dark; }
    body { margin:0; min-height:100svh; display:grid; place-items:center; background:#0b0b0f; color:#fff; font-family:Manrope, system-ui; }
    .card { width:min(720px,92vw); padding:24px; border-radius:16px; background:rgba(255,255,255,.05); backdrop-filter: blur(8px); }
    .row { display:grid; gap:10px; margin-top:12px; }
    label { font-weight:800; }
    input { width:100%; padding:14px 16px; border-radius:12px; border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.08); color:#fff; font-weight:800; }
    button { padding:14px 18px; border-radius:12px; border:0; font-weight:900; background:#fff; color:#111; cursor:pointer; }
    .muted { opacity:.8; font-weight:800; }
    .link { margin-top:14px; word-break:break-all; }
  </style>
</head>
<body>
  <div class="card">
    <h1 style="margin:0 0 6px 0;">YouTube LIVE Chat Overlay</h1>
    <p class="muted">Paste either a <strong>Channel ID</strong> (UC...) or a <strong>YouTube Video URL/ID</strong>.</p>

    <div class="row">
      <label for="input">Channel ID or Video URL/ID</label>
      <input id="input" placeholder="UCxxxxxxxxxxxx  or  https://youtube.com/watch?v=VIDEOID" />
    </div>

    <div class="row">
      <button id="make">Get Overlay Link</button>
    </div>

    <div id="out" class="link muted"></div>
  </div>

  <script>
    const make = document.getElementById('make');
    make.addEventListener('click', () => {
      const raw = document.getElementById('input').value.trim();
      if (!raw) return alert('Enter a Channel ID or Video URL/ID');

      // Extract a video id if they pasted a URL
      const urlMatch = raw.match(/[?&]v=([\w-]{11})/) || raw.match(/youtu\.be\/([\w-]{11})/);
      const isVideoId = /^[\w-]{11}$/.test(raw) || !!urlMatch;
      const params = new URLSearchParams();

      if (isVideoId) {
        const video = urlMatch ? urlMatch[1] : raw;
        params.set('video', video);
      } else {
        params.set('channel', raw);
      }

      const href = `${location.origin}/overlay.html?${params.toString()}`;
      document.getElementById('out').innerHTML = `OBS Browser Source:<br><a target="_blank" href="${href}">${href}</a>`;
    });
  </script>
</body>
</html>
